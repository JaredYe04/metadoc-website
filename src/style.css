@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* 阴影透明度控制变量 */
    --shadow-opacity-1: 0.20;
    --shadow-opacity-2: 0.17;
    --shadow-opacity-3: 0.15;
    --shadow-opacity-4: 0.13;
    --shadow-opacity-base: 0.15;
  }
  
  * {
    @apply transition-colors duration-200;
  }
  
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100;
  }
  
  /* UI元素文字不可选中 */
  nav, button, h1, h2, h3, h4, h5, h6, .hero-title, .text-gradient {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
  
  /* 文本框文字可以选中 */
  input, textarea, pre, code, [contenteditable] {
    user-select: text;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
  }
}

@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent;
  }
  
  .glass {
    @apply bg-white/10 dark:bg-gray-900/10 backdrop-blur-md border border-white/20 dark:border-gray-700/20;
  }
  
  /* Panel 模糊边缘过渡效果 - 使用精确的颜色混合算法 */
  .panel-blur-edge {
    position: relative;
    overflow: visible;
  }
  
  /* 颜色混合算法说明：
   * 交界处的颜色 = 两个相邻 panel 背景色的混合色
   * 上一个 panel 的底部：从自己的背景色渐变到混合色
   * 下一个 panel 的顶部：从混合色渐变到自己的背景色
   * 
   * 颜色定义（浅色模式，使用不同白色程度让渐变更明显）：
   * Hero: 纯白色 rgb(255,255,255)
   * MockShowcase: 浅灰色 rgb(249,250,251)
   * Features: 稍深灰色 rgb(245,247,250) - 让渐变更明显
   * Highlights: 米白色 rgb(253,252,250) - 暖色调白色
   * Download: 灰白色 rgb(251,252,253) - 稍浅灰色
   * About: 暖白色 rgb(254,253,251) - 偏暖的白色
   * 
   * 暗色模式：深灰 rgb(17,24,39), 中灰 rgb(31,41,55), 黑色 rgb(0,0,0)
   * 
   * 混合公式：mix = (color1 + color2) / 2 (50%混合)
   */
  
  /* MockShowcase: 浅灰色背景 rgb(249,250,251)
   * 顶部：从纯白色(Hero)渐变到白色+灰色混合色
   * 底部：从灰色渐变到灰色+稍深灰色混合色（Features是稍深灰色）
   */
  .panel-blur-edge-gray-first {
    background: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 1) 0%,
      rgba(253, 253, 254, 1) 5%,
      rgba(252, 252, 253, 1) 10%,
      rgba(250, 250, 251, 1) 15%,
      rgba(249, 250, 251, 1) 20%,
      rgba(249, 250, 251, 1) 80%,
      rgba(247, 248, 250, 1) 85%,
      rgba(246, 248, 250, 1) 90%,
      rgba(247, 248, 250, 1) 95%,
      rgba(247, 248, 250, 1) 100%
    );
  }
  
  .dark .panel-blur-edge-gray-first {
    background: linear-gradient(
      to bottom,
      rgba(17, 24, 39, 1) 0%,
      rgba(20, 28, 43, 1) 5%,
      rgba(22, 30, 45, 1) 10%,
      rgba(26, 35, 50, 1) 15%,
      rgba(31, 41, 55, 1) 20%,
      rgba(31, 41, 55, 1) 80%,
      rgba(31, 41, 55, 1) 85%,
      rgba(31, 41, 55, 1) 90%,
      rgba(31, 41, 55, 1) 95%,
      rgba(31, 41, 55, 1) 100%
    );
  }
  
  /* Features: 稍深灰色背景 rgb(245,247,250)
   * 顶部：从灰色+稍深灰色混合色渐变到稍深灰色
   * 底部：从稍深灰色渐变到稍深灰色+米白色混合色
   */
  .panel-blur-edge-gray-to-white {
    background: linear-gradient(
      to bottom,
      rgba(247, 248, 250, 1) 0%,
      rgba(246, 248, 250, 1) 5%,
      rgba(246, 247, 250, 1) 10%,
      rgba(245, 247, 250, 1) 15%,
      rgba(245, 247, 250, 1) 20%,
      rgba(245, 247, 250, 1) 75%,
      rgba(248, 249, 251, 1) 80%,
      rgba(249, 250, 251, 1) 85%,
      rgba(250, 251, 252, 1) 90%,
      rgba(251, 251, 252, 1) 95%,
      rgba(251, 251, 252, 1) 100%
    );
  }
  
  .dark .panel-blur-edge-gray-to-white {
    background: linear-gradient(
      to bottom,
      rgba(31, 41, 55, 1) 0%,
      rgba(31, 41, 55, 1) 5%,
      rgba(31, 41, 55, 1) 10%,
      rgba(31, 41, 55, 1) 15%,
      rgba(31, 41, 55, 1) 20%,
      rgba(31, 41, 55, 1) 75%,
      rgba(28, 38, 52, 1) 80%,
      rgba(25, 35, 49, 1) 85%,
      rgba(23, 33, 47, 1) 90%,
      rgba(24, 32, 47, 1) 95%,
      rgba(24, 32, 47, 1) 100%
    );
  }
  
  /* Highlights: 米白色背景 rgb(253,252,250) - 暖色调
   * 顶部：从稍深灰色+米白色混合色渐变到米白色
   * 底部：从米白色渐变到米白色+灰白色混合色
   */
  .panel-blur-edge-white-between-gray {
    background: linear-gradient(
      to bottom,
      rgba(251, 251, 252, 1) 0%,
      rgba(251, 251, 252, 1) 5%,
      rgba(252, 252, 251, 1) 8%,
      rgba(252, 252, 250, 1) 12%,
      rgba(253, 252, 250, 1) 15%,
      rgba(253, 252, 250, 1) 85%,
      rgba(252, 252, 251, 1) 88%,
      rgba(252, 252, 252, 1) 92%,
      rgba(252, 252, 252, 1) 95%,
      rgba(252, 252, 252, 1) 100%
    );
  }
  
  .dark .panel-blur-edge-white-between-gray {
    background: linear-gradient(
      to bottom,
      rgba(24, 32, 47, 1) 0%,
      rgba(24, 32, 47, 1) 5%,
      rgba(23, 33, 47, 1) 8%,
      rgba(20, 28, 43, 1) 12%,
      rgba(17, 24, 39, 1) 15%,
      rgba(17, 24, 39, 1) 85%,
      rgba(20, 28, 43, 1) 88%,
      rgba(22, 30, 45, 1) 92%,
      rgba(24, 32, 47, 1) 95%,
      rgba(24, 32, 47, 1) 100%
    );
  }
  
  /* Download: 灰白色背景 rgb(251,252,253) - 稍浅灰色
   * 顶部：从米白色+灰白色混合色渐变到灰白色
   * 底部：从灰白色渐变到灰白色+暖白色混合色
   */
  .panel-blur-edge-gray-between-white {
    background: linear-gradient(
      to bottom,
      rgba(252, 252, 252, 1) 0%,
      rgba(252, 252, 252, 1) 5%,
      rgba(251, 252, 252, 1) 8%,
      rgba(251, 252, 253, 1) 12%,
      rgba(251, 252, 253, 1) 88%,
      rgba(252, 252, 252, 1) 92%,
      rgba(252, 252, 252, 1) 95%,
      rgba(252, 252, 252, 1) 100%
    );
  }
  
  .dark .panel-blur-edge-gray-between-white {
    background: linear-gradient(
      to bottom,
      rgba(24, 32, 47, 1) 0%,
      rgba(26, 35, 50, 1) 5%,
      rgba(28, 38, 52, 1) 8%,
      rgba(31, 41, 55, 1) 12%,
      rgba(31, 41, 55, 1) 88%,
      rgba(28, 38, 52, 1) 92%,
      rgba(26, 35, 50, 1) 95%,
      rgba(24, 32, 47, 1) 100%
    );
  }
  
  /* About: 暖白色背景 rgb(254,253,251) - 偏暖的白色
   * 顶部：从灰白色+暖白色混合色渐变到暖白色
   * 底部：从暖白色渐变到 Footer 浅色背景 gray-100 rgb(243,244,246)
   */
  .panel-blur-edge-white-last {
    background: linear-gradient(
      to bottom,
      rgba(252, 252, 252, 1) 0%,
      rgba(253, 252, 251, 1) 5%,
      rgba(253, 253, 251, 1) 8%,
      rgba(254, 253, 251, 1) 12%,
      rgba(254, 253, 251, 1) 85%,
      rgba(250, 250, 249, 1) 90%,
      rgba(247, 247, 246, 1) 95%,
      rgba(243, 244, 246, 1) 100%
    );
  }
  
  /* About 底部：从 gray-900 渐变到 Footer 深色背景 gray-900 rgb(17,24,39)，保持一致 */
  .dark .panel-blur-edge-white-last {
    background: linear-gradient(
      to bottom,
      rgba(24, 32, 47, 1) 0%,
      rgba(22, 30, 45, 1) 5%,
      rgba(20, 28, 43, 1) 8%,
      rgba(17, 24, 39, 1) 12%,
      rgba(17, 24, 39, 1) 85%,
      rgba(17, 24, 39, 1) 92%,
      rgba(17, 24, 39, 1) 97%,
      rgba(17, 24, 39, 1) 100%
    );
  }
  
  /* 确保动画组件在背景层（z-index: 0） */
  /* 动画组件已经有 absolute inset-0，默认 z-index 是 auto，需要明确设置为 0 */
  
  /* 确保内容容器在动画之上 */
  .panel-blur-edge > div.relative {
    position: relative;
    z-index: 10 !important;
  }
  
  .hero-title {
    position: relative;
    display: inline-block;
    /* 文字颜色：亮色主题黑色，暗色主题白色 */
    color: #1f2937;
    background-color: transparent !important;
    /* 渐变阴影动画 - 亮色主题 */
    animation: gradient-shadow-light 10s ease infinite;
  }
  
  .dark .hero-title {
    color: #ffffff;
    /* 渐变阴影动画 - 暗色主题 */
    animation: gradient-shadow-dark 10s ease infinite;
  }
  
  /* 分隔线效果 - 在标题下方 */
  .hero-title::after {
    content: '';
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    max-width: 600px;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(0, 0, 0, 0.7) 50%,
      transparent 100%
    );
    opacity: 0.98;
    pointer-events: none;
  }
  
  .dark .hero-title::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.7) 50%,
      transparent 100%
    );
    opacity: 0.98;
  }
  
  /* 亮色主题渐变阴影动画 - 深色阴影，靠近黑色，使用CSS变量控制透明度 */
  @keyframes gradient-shadow-light {
    0% {
      text-shadow: 
        0 0 20px rgba(0, 0, 0, var(--shadow-opacity-1)),
        0 0 40px rgba(30, 30, 30, var(--shadow-opacity-2)),
        0 0 60px rgba(60, 60, 60, var(--shadow-opacity-3)),
        0 0 80px rgba(90, 90, 90, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
    20% {
      text-shadow: 
        0 0 20px rgba(20, 20, 50, var(--shadow-opacity-1)),
        0 0 40px rgba(40, 40, 70, var(--shadow-opacity-2)),
        0 0 60px rgba(60, 60, 90, var(--shadow-opacity-3)),
        0 0 80px rgba(80, 80, 110, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
    40% {
      text-shadow: 
        0 0 20px rgba(50, 20, 50, var(--shadow-opacity-1)),
        0 0 40px rgba(70, 40, 70, var(--shadow-opacity-2)),
        0 0 60px rgba(90, 60, 90, var(--shadow-opacity-3)),
        0 0 80px rgba(110, 80, 110, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
    60% {
      text-shadow: 
        0 0 20px rgba(50, 50, 20, var(--shadow-opacity-1)),
        0 0 40px rgba(70, 70, 40, var(--shadow-opacity-2)),
        0 0 60px rgba(90, 90, 60, var(--shadow-opacity-3)),
        0 0 80px rgba(110, 110, 80, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
    80% {
      text-shadow: 
        0 0 20px rgba(20, 50, 50, var(--shadow-opacity-1)),
        0 0 40px rgba(40, 70, 70, var(--shadow-opacity-2)),
        0 0 60px rgba(60, 90, 90, var(--shadow-opacity-3)),
        0 0 80px rgba(80, 110, 110, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
    100% {
      text-shadow: 
        0 0 20px rgba(0, 0, 0, var(--shadow-opacity-1)),
        0 0 40px rgba(30, 30, 30, var(--shadow-opacity-2)),
        0 0 60px rgba(60, 60, 60, var(--shadow-opacity-3)),
        0 0 80px rgba(90, 90, 90, var(--shadow-opacity-4)),
        0 2px 4px rgba(0, 0, 0, var(--shadow-opacity-base));
    }
  }
  
  /* 暗色主题渐变阴影动画 - 浅色阴影，靠近白色，使用CSS变量控制透明度 */
  @keyframes gradient-shadow-dark {
    0% {
      text-shadow: 
        0 0 20px rgba(255, 255, 255, var(--shadow-opacity-1)),
        0 0 40px rgba(240, 240, 240, var(--shadow-opacity-2)),
        0 0 60px rgba(220, 220, 220, var(--shadow-opacity-3)),
        0 0 80px rgba(200, 200, 200, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
    20% {
      text-shadow: 
        0 0 20px rgba(240, 240, 255, var(--shadow-opacity-1)),
        0 0 40px rgba(230, 230, 250, var(--shadow-opacity-2)),
        0 0 60px rgba(220, 220, 240, var(--shadow-opacity-3)),
        0 0 80px rgba(210, 210, 230, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
    40% {
      text-shadow: 
        0 0 20px rgba(255, 240, 255, var(--shadow-opacity-1)),
        0 0 40px rgba(250, 230, 250, var(--shadow-opacity-2)),
        0 0 60px rgba(240, 220, 240, var(--shadow-opacity-3)),
        0 0 80px rgba(230, 210, 230, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
    60% {
      text-shadow: 
        0 0 20px rgba(255, 255, 240, var(--shadow-opacity-1)),
        0 0 40px rgba(250, 250, 230, var(--shadow-opacity-2)),
        0 0 60px rgba(240, 240, 220, var(--shadow-opacity-3)),
        0 0 80px rgba(230, 230, 210, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
    80% {
      text-shadow: 
        0 0 20px rgba(240, 255, 255, var(--shadow-opacity-1)),
        0 0 40px rgba(230, 250, 250, var(--shadow-opacity-2)),
        0 0 60px rgba(220, 240, 240, var(--shadow-opacity-3)),
        0 0 80px rgba(210, 230, 230, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
    100% {
      text-shadow: 
        0 0 20px rgba(255, 255, 255, var(--shadow-opacity-1)),
        0 0 40px rgba(240, 240, 240, var(--shadow-opacity-2)),
        0 0 60px rgba(220, 220, 220, var(--shadow-opacity-3)),
        0 0 80px rgba(200, 200, 200, var(--shadow-opacity-4)),
        0 2px 8px rgba(255, 255, 255, var(--shadow-opacity-base));
    }
  }
}

